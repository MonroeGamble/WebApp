<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FranResearch - Franchise Market Dashboard</title>
  <link rel="stylesheet" href="assets/css/global.css">
  <link rel="stylesheet" href="assets/css/components.css">
  <link rel="stylesheet" href="assets/css/layouts.css">
  <link rel="stylesheet" href="FranchiseNews/news-widget.css">
</head>
<body>
  <nav class="navbar">
    <div class="shell">
      <div class="flex-between" style="gap:14px;">
        <div class="flex-between" style="gap:12px;">
          <img src="logo.svg" alt="FranResearch" style="height:36px;">
          <strong>FranResearch</strong>
        </div>
        <div class="nav-links">
          <a href="index.html">Home</a>
          <a href="StockChart/chart.html">Charts</a>
          <a href="FranchiseMap/map.html">Map</a>
          <a href="FranchiseNews/news-feed.html">News</a>
          <a href="sports.html">Sports</a>
          <a href="Website/ticker.html">Ticker</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="shell">
    <section class="hero">
      <div class="eyebrow">Franchise Market Intelligence</div>
      <h1>Live franchise tickers, charts, maps, and news in one place.</h1>
      <p>Track franchisor equities with real-time price movement, percent-change charts, embedded widgets, and a refreshed dark UI that stays responsive on every screen size.</p>
      <div class="hero-cta">
        <a class="button" href="StockChart/chart.html">Open Charts</a>
        <a class="btn-secondary" href="Website/ticker.html">Launch Ticker</a>
      </div>
    </section>

    <section class="section-container">
      <div class="section-header">
        <div>
          <h2 class="section-title">Live Stock Ticker</h2>
          <p class="section-subtitle">Embeddable widget with live franchisor pricing.</p>
        </div>
      </div>
      <div class="card">
        <iframe src="./Website/ticker.html" width="100%" height="60" frameborder="0" class="embed-frame" title="Franchise ticker"></iframe>
        <p style="margin-top:12px;">Embed anywhere with: <code>&lt;iframe src=&quot;https://monroegamble.github.io/WebApp/Website/ticker.html&quot; width=&quot;100%&quot; height=&quot;60&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;</code></p>
      </div>
    </section>

    <section class="section-container">
      <div class="section-header">
        <div>
          <h2 class="section-title">Analysis Tools</h2>
          <p class="section-subtitle">Compare performance, map locations, and monitor scores.</p>
        </div>
      </div>
      <div class="card-grid">
        <div class="card hero-card">
          <h3>Interactive Stock Charts</h3>
          <p>Percent-change view by default, with adjustable ranges, legend toggles, and embed-ready outputs.</p>
          <iframe src="StockChart/chart.html" title="Stock chart preview" class="embed-frame" style="height:320px;"></iframe>
          <a class="button" href="StockChart/chart.html">Open Full Charts</a>
        </div>
        <div class="card hero-card">
          <h3>Interactive Franchise Map</h3>
          <p>Leaflet-powered map with brand filters and refreshed layout that no longer overlaps with ticker styles.</p>
          <iframe src="FranchiseMap/map.html" title="Franchise map" class="embed-frame" style="height:320px;"></iframe>
          <a class="button" href="FranchiseMap/map.html">View Map</a>
        </div>
        <div class="card hero-card">
          <h3>Sports Dashboard</h3>
          <p>Auto-refreshing scoreboard fed by a free API with the global ticker included for quick market context.</p>
          <a class="button" href="sports.html">Open Sports Scores</a>
        </div>
      </div>
    </section>

    <section class="section-container">
      <div class="section-header">
        <div>
          <h2 class="section-title">Franchise News</h2>
          <p class="section-subtitle">Auto-updating feed sourced by GitHub Actions every 15 minutes.</p>
        </div>
      </div>
      <div class="card" style="overflow:hidden;">
        <div id="franchise-news-vertical-home"></div>
        <div class="flex-between footer-top-border">
          <a class="button" href="FranchiseNews/news-feed.html">Full News Feed</a>
          <a class="btn-secondary" href="FranchiseNews/news-scroller.html">Vertical Scroller</a>
          <a class="btn-secondary" href="FranchiseNews/news-ticker.html">Horizontal Ticker</a>
        </div>
      </div>
    </section>

    <section class="section-container">
      <div class="section-header">
        <div>
          <h2 class="section-title">Quick Links</h2>
          <p class="section-subtitle">Jump directly to any interactive component or documentation.</p>
        </div>
      </div>
      <div class="grid grid-3">
        <div class="card mini-widget">
          <div class="sparkline"></div>
          <div>
            <strong>Stock Ticker</strong>
            <p><a href="Website/ticker.html">Embed-ready widget</a></p>
          </div>
        </div>
        <div class="card mini-widget">
          <div class="sparkline"></div>
          <div>
            <strong>Percent Charts</strong>
            <p><a href="StockChart/chart.html">Interactive comparison</a></p>
          </div>
        </div>
        <div class="card mini-widget">
          <div class="sparkline"></div>
          <div>
            <strong>Franchise Map</strong>
            <p><a href="FranchiseMap/map.html">Brand filters + markers</a></p>
          </div>
        </div>
        <div class="card mini-widget">
          <div class="sparkline"></div>
          <div>
            <strong>News Widgets</strong>
            <p><a href="FranchiseNews/news-feed.html">Ticker & feeds</a></p>
          </div>
        </div>
        <div class="card mini-widget">
          <div class="sparkline"></div>
          <div>
            <strong>Sports</strong>
            <p><a href="sports.html">Live franchise teams</a></p>
          </div>
        </div>
        <div class="card mini-widget">
          <div class="sparkline"></div>
          <div>
            <strong>Docs</strong>
            <p><a href="Website/README.md">Embedding guide</a></p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="shell footer-grid">
      <div>
        <h3>FranchiseIQ</h3>
        <p>Unified market intelligence for franchisors with live pricing, maps, news, and sports context.</p>
      </div>
      <div>
        <h3>Quick Links</h3>
        <ul class="list-reset">
          <li><a href="Website/ticker.html">Stock Ticker</a></li>
          <li><a href="StockChart/chart.html">Stock Charts</a></li>
          <li><a href="FranchiseMap/map.html">Franchise Map</a></li>
          <li><a href="FranchiseNews/news-feed.html">Franchise News</a></li>
          <li><a href="sports.html">Sports Dashboard</a></li>
        </ul>
      </div>
      <div>
        <h3>Data & Disclaimer</h3>
        <p>Prices sourced from cached CSVs and free APIs; news refreshed via GitHub Actions. Use for informational purposes only.</p>
      </div>
    </div>
  </footer>

  <div id="franchise-news-ticker-bottom" style="position: fixed; bottom: 0; left: 0; width: 100%; z-index: 999;"></div>

  <script src="FranchiseNews/newsService.js"></script>
  <script src="FranchiseNews/news-widget.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        await window.FranchiseNewsWidget.initVerticalScroller({
          mountSelector: '#franchise-news-vertical-home',
          categories: [
            window.NEWS_CATEGORIES.TRADE_PRESS,
            window.NEWS_CATEGORIES.BIG_PORTALS,
            window.NEWS_CATEGORIES.RESEARCH
          ],
          maxItems: 20,
          scrollSpeed: 60,
          pauseOnHover: true,
          showHeader: true,
          headerTitle: 'ðŸ“° Latest News',
          headerSubtitle: 'Auto-scrolling updates',
          showDate: true
        });

        await window.FranchiseNewsWidget.initTicker({
          mountSelector: '#franchise-news-ticker-bottom',
          categories: [
            window.NEWS_CATEGORIES.TRADE_PRESS,
            window.NEWS_CATEGORIES.BIG_PORTALS
          ],
          tickerSpeed: 90,
          pauseOnHover: true,
          showLabel: true,
          labelText: 'Franchise News',
          labelIcon: 'ðŸ“°'
        });
      } catch (error) {
        console.error('Failed to initialize news widgets:', error);
      }
    });
  </script>
</body>
</html>
